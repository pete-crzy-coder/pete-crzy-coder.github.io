(function(){const X=window.XMLHttpRequest;window.XMLHttpRequest=function(){const x=new X(),o=x.open,s=x.send;x.open=function(m,u,...r){this._method=m;this._url=u;return o.call(this,m,u,...r)};x.send=function(...a){console.log(`[Global XHR] ${this._method} ${this._url}`,a);this.addEventListener('load',function(){console.log(`[XHR Response] ${this._url}`,this.responseText);if(this._url.startsWith('/ajax/svg_interactives/startQuestionSet')||this._url.startsWith('/ajax/svg_interactives/getNextSvgInteractive')){try{const j=JSON.parse(this.responseText);console.log(`[Parsed JSON]`,j);const q=j.components;let t=q.length>2?2:1;console.log(t);let ans;if(t==1){ans=JSON.parse(q[1].Data).Answers}else{ans='Question type currently under development.'}const ab=document.querySelector('a[href="tel:1300882045"]');ab.innerText=` ${ans}`}catch(e){console.warn('Failed to parse response as JSON',e)}}});return s.apply(this,a)};return x};window.XMLHttpRequest.prototype=X.prototype;console.log('[Hooked] window.XMLHttpRequest')})();
